<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Deutsches Hauskonzept UG ‚Äì Anmeldung</title>
  <style>
    :root{--brand:#0a2a3a;--brand-2:#0f3f5a;--accent:#f7c948;--bg:#f5f7fb;--card:#ffffff;--text:#111827;--muted:#6b7280;--border:#e5e7eb;--radius:16px}
    *{box-sizing:border-box}html,body{height:100%}
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;margin:0;background:var(--bg);color:var(--text)}
    header{position:sticky;top:0;z-index:20;background:var(--brand);color:#fff;padding:14px 16px;box-shadow:0 2px 10px rgba(0,0,0,.06)}
    header .brand{font-weight:800;letter-spacing:.2px}
    header .brand small{font-weight:600;opacity:.85}
    .container{max-width:900px;margin:0 auto;padding:18px 16px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:16px;box-shadow:0 12px 28px rgba(0,0,0,.04)}
    .progress{display:flex;align-items:center;gap:10px;margin:14px 0 10px}
    .bar{height:8px;background:#e9eef5;border-radius:999px;overflow:hidden;flex:1}
    .bar>i{display:block;height:100%;width:0;background:var(--brand);transition:width .25s ease}
    .stepcount{font-size:12px;color:var(--muted)}
    .step{display:none}.step.active{display:block}.step h2{font-size:22px;margin:4px 0 12px}
    label{font-weight:600;display:block;margin:8px 0 6px}
    input,select,textarea{width:100%;padding:12px;border:1px solid var(--border);border-radius:12px;background:#fff;font-size:16px}
    input:focus,select:focus,textarea:focus{outline:none;border-color:var(--brand-2);box-shadow:0 0 0 3px rgba(15,63,90,.15)}
    .grid{display:grid;gap:12px}
    @media(min-width:720px){.grid-2{grid-template-columns:1fr 1fr}.grid-3{grid-template-columns:repeat(3,1fr)}}
    .choices{display:grid;gap:12px}@media(min-width:720px){.choices.cols-2{grid-template-columns:1fr 1fr}.choices.cols-3{grid-template-columns:repeat(3,1fr)}}
    .choice{border:1.5px solid var(--border);border-radius:14px;padding:14px;cursor:pointer;background:#fff;display:flex;align-items:center;gap:12px}
    .choice:hover{border-color:#cbd5e1}
    .choice.selected{border-color:var(--brand);box-shadow:0 0 0 3px rgba(15,63,90,.1)}
    .choice .icon{font-size:22px}.choice .t{font-weight:700}
    .hint{font-size:12px;color:#6b7280}
    .signature-wrap{border:1px dashed var(--border);border-radius:12px;background:#fff;padding:12px}
    canvas{display:block;width:100%;height:180px;background:#fafafa;border-radius:8px}
    .alert{display:none;padding:12px 14px;border-radius:12px;margin:12px 0}.alert.error{background:#fdecea;color:#b71c1c;border:1px solid #f5c6c6}.alert.success{background:#ecf9f1;color:#1b5e20;border:1px solid #b7e4c7}
    pre{background:#0b1020;color:#d1e7ff;padding:12px;border-radius:12px;overflow:auto;font-size:12px}
    .nav{position:sticky;bottom:0;background:rgba(255,255,255,.9);backdrop-filter:saturate(180%) blur(8px);border-top:1px solid var(--border);padding:12px 16px;display:flex;gap:12px;justify-content:space-between;align-items:center}
    .btn{border:none;border-radius:12px;padding:12px 18px;font-weight:700;cursor:pointer}.btn.secondary{background:#eef2f7;color:var(--brand)}.btn.primary{background:var(--accent);color:#111}.btn.primary:disabled{opacity:.65;cursor:not-allowed}
    footer{margin-top:12px;font-size:12px;color:var(--muted)}a{color:var(--brand-2);text-decoration:none}a:hover{text-decoration:underline}
  </style>
</head>
<body>
  <header><div class="brand">Deutsches Hauskonzept <small>‚Ä¢ Partner</small></div></header>

  <div class="container">
    <div class="card">
      <div class="progress"><div class="bar"><i id="barFill"></i></div><div class="stepcount"><span id="stepNow">1</span>/<span id="stepMax">7</span></div></div>

      <div id="alert-success" class="alert success" role="alert" aria-live="polite"></div>
      <div id="alert-error" class="alert error" role="alert" aria-live="assertive"></div>

      <!-- Wir fangen das Submit per JS ab (AJAX) -->
      <form id="leadForm" method="POST" novalidate onsubmit="return false;">
        <!-- STEP 1: Produkt -->
        <section class="step active" data-step="1">
          <h2>Welches Produkt?</h2>
          <div class="choices cols-1" data-choice-group data-target="produkt">
            <div class="choice" data-value="Solar"><div class="icon">‚òÄÔ∏è</div><div class="t">Solar</div></div>
            <div class="choice" data-value="W√§rmepumpe"><div class="icon">üåÄ</div><div class="t">W√§rmepumpe</div></div>
            <div class="choice" data-value="Beides"><div class="icon">‚ö°</div><div class="t">Beides</div></div>
          </div>
          <input type="hidden" id="produkt" name="produkt" required />
        </section>

        <!-- STEP 2: Person -->
        <section class="step" data-step="2">
          <h2>Anmeldung</h2>
          <label>Anrede</label>
          <div class="choices cols-2" data-choice-group data-target="anrede">
            <div class="choice" data-value="Herr"><div class="t">Herr</div></div>
            <div class="choice" data-value="Frau"><div class="t">Frau</div></div>
          </div>
          <input type="hidden" id="anrede" name="anrede" />

          <div class="grid grid-2" style="margin-top:10px">
            <div>
              <label for="vorname">Vorname <span class="hint">(Pflicht)</span></label>
              <input id="vorname" name="vorname" type="text" required autocomplete="given-name" />
            </div>
            <div>
              <label for="nachname">Nachname <span class="hint">(Pflicht)</span></label>
              <input id="nachname" name="nachname" type="text" required autocomplete="family-name" />
            </div>
          </div>
          <div class="grid grid-2">
            <div>
              <label for="telefon">Handynummer <span class="hint">(Pflicht)</span></label>
              <input id="telefon" name="telefon" type="tel" required inputmode="tel" autocomplete="tel" pattern="^[+0-9 ()\-]{6,}$" placeholder
